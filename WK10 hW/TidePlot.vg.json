{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 800,
    "height": 600,
    "title": "Tide levels at WilliamsTown ",
    "data": {
        "url": "https://raw.githubusercontent.com/TFHarrison/WK10_HW/main/Tides.csv"
    },
    "params": [
        {
            "name":"Year_min",
            "value":1966,
            "bind":{
                "input":"range",
                "min":1966,
                "max":2022,
                "step":1,
                "name":"Start Year : "
            }
        },
        {
            "name":"Year_max",
            "value":2022,
            "bind":{
                "input": "range",
                "min":1966,
                "max":2022,
                "step": 1,
                "name": "End year : "
            }
        }
    ],
    "transform": [
        {"filter": "datum.Year >= Year_min && datum.year <= Year_max"}
    ],
    "encoding": {
        "x": {
            "field": "Mth",
            "type": "quantitative",
            "title": "Month",
            "axis": {"tickCount": 12},
            "scale": {"domain":[1,12]}
        },
        "y": {
            "field": "Mean",
            "type": "quantitative",
            "title": "Mean Level",
            "axis": {"tickCount": 10},
            "scale": {"domain":[0,1]}
        },
        "color": {
            "field": "Year",
            "type": "quantitative"
        }
    },
    "layer": [
        {
            "mark": "circle",
            "encoding": {
                "tooltip": [
                    {"field":"Year","type": "quantitative"},
                    {"field":"Mth","type": "quantitative"},
                    {"field":"Minimum","type": "quantitative", "format":","},
                    {"field":"Maximum","type": "quantitative", "format":","},
                    {"field":"Mean","type": "quantitative", "format":","}
                ]
            }
        }
    ]

}
